(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-20829979"],{"0007":function(e,t,i){"use strict";var s=i("6ab7"),r=i.n(s);r.a},1348:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"registerWrapper",attrs:{id:"registerBackground"}},[i("div",{staticClass:"formWrapper"},[i("h1",{staticClass:"registerTitle",domProps:{textContent:e._s(e.registerTitle)}}),i("p",{staticClass:"registerSystem",domProps:{textContent:e._s(e.SYSTEM_NAME)}}),i("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px","hide-required-asterisk":""}},[i("el-form-item",{attrs:{prop:"username"}},[i("el-input",{attrs:{"prefix-icon":"el-icon-user",placeholder:"用户名"},model:{value:e.ruleForm.username,callback:function(t){e.$set(e.ruleForm,"username",t)},expression:"ruleForm.username"}})],1),i("el-form-item",{attrs:{prop:"email"}},[i("el-input",{attrs:{"prefix-icon":"el-icon-message",placeholder:"邮箱"},model:{value:e.ruleForm.email,callback:function(t){e.$set(e.ruleForm,"email",t)},expression:"ruleForm.email"}})],1),i("el-form-item",{attrs:{prop:"password"}},[i("el-input",{attrs:{"prefix-icon":"el-icon-lock",placeholder:"密码","show-password":""},model:{value:e.ruleForm.password,callback:function(t){e.$set(e.ruleForm,"password",t)},expression:"ruleForm.password"}})],1),i("el-form-item",{staticStyle:{"user-select":"none"}},[i("drag-verify",{ref:"dragVerifyRef",attrs:{text:"请按住滑块拖动解锁",successText:"验证通过",handlerIcon:"el-icon-d-arrow-right",successIcon:"el-icon-circle-check",width:375,handlerBg:"#F5F7FA",isPassing:e.isPassing},on:{"update:isPassing":[function(t){e.isPassing=t},e.updateIsPassing],"update:is-passing":function(t){e.isPassing=t}}})],1),i("el-form-item",{attrs:{prop:"token"}},[i("el-input",{attrs:{placeholder:"请输入令牌"},model:{value:e.ruleForm.token,callback:function(t){e.$set(e.ruleForm,"token",t)},expression:"ruleForm.token"}},[i("el-button",{staticClass:"el-icon-search",staticStyle:{color:"red"},attrs:{slot:"append",disabled:e.submitDisabled,title:"获取令牌"},on:{click:e.getRegisterToken},slot:"append"})],1)],1),i("el-form-item",{staticClass:"registerButtonWrapper"},[i("el-button",{staticClass:"registerButton",attrs:{type:"primary",disabled:e.submitDisabled},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("注册\n        ")])],1)],1)],1)])},r=[],n=(i("a481"),i("9afa")),o=i.n(n),a=i("b708"),l=i("7cd9"),u={color:"230, 162, 60",pointColor:"230, 162, 60",opacity:.5,count:99,zIndex:-1},c={name:"Register",components:{DragVerify:a["a"]},data:function(){return{registerTitle:"注册",ruleForm:{email:"",username:"",password:"",token:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:4,max:16,message:"长度在4到16个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:7,max:20,message:"长度在7到20个字符",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱地址",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:["blur","change"]}],token:[{required:!0,message:"请输入令牌",trigger:"blur"},{required:!0,pattern:/^\S{6}$/,message:"非6位令牌",trigger:"blur"}]},isPassing:!1,submitDisabled:!0}},computed:{url:function(){var e=this.$route.query.Rurl;return e||"/"}},watch:{"ruleForm.email":function(){this.isPassing=!1,this.$refs.dragVerifyRef.reset()},"ruleForm.userName":function(){this.isPassing=!1,this.$refs.dragVerifyRef.reset()},"ruleForm.password":function(){this.isPassing=!1,this.$refs.dragVerifyRef.reset()}},created:function(){this.$nextTick(function(){var e=document.getElementById("registerBackground");new o.a(e,u)})},methods:{updateIsPassing:function(e){var t=this;e?this.$refs.ruleForm.validateField("email",function(e){t.submitDisabled=!!e}):this.submitDisabled=!0},getRegisterToken:function(){var e=this;this.$message.success("正在获取令牌..."),Object(l["b"])({email:this.ruleForm.email}).then(function(){e.$message.success("令牌已发送至您的邮箱，请注意查收！")}).catch(function(t){console.error(t),e.$message.error(t.msg)})},submitForm:function(e){var t=this;this.$refs[e].validate(function(i){if(!i)return t.$message.error("请完善信息！"),!1;var s={email:t.ruleForm.email,username:t.ruleForm.username,password:t.ruleForm.password,token:t.ruleForm.token};Object(l["a"])(s).then(function(){t.$notify({title:"成功",message:"注册成功！已跳转到登录页面",type:"success"}),t.$refs[e].resetFields(),t.$router.replace({path:"/login"})}).catch(function(e){console.error(e),t.$message.error("用户注册失败")})})}}},d=c,h=(i("d089"),i("2877")),f=Object(h["a"])(d,s,r,!1,null,"12cbb9f8",null);t["default"]=f.exports},1710:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createSensor=void 0;var s=i("40ef"),r=function(){return s.createSensor};t.createSensor=r()},3688:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60,i=null;return function(){for(var s=this,r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];clearTimeout(i),i=setTimeout(function(){e.apply(s,n)},t)}},e.exports=t["default"]},"3f84":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeSensor=t.getSensor=void 0;var s=i("721a"),r=a(s),n=i("1710"),o=i("db86");function a(e){return e&&e.__esModule?e:{default:e}}var l={};t.getSensor=function(e){var t=e.getAttribute(o.SizeSensorId);if(t&&l[t])return l[t];var i=(0,r.default)();e.setAttribute(o.SizeSensorId,i);var s=(0,n.createSensor)(e);return l[i]=s,s},t.removeSensor=function(e){var t=e.element.getAttribute(o.SizeSensorId);e.element.removeAttribute(o.SizeSensorId),e.destroy(),t&&l[t]&&delete l[t]}},"40ef":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createSensor=void 0;var s=i("3688"),r=o(s),n=i("db86");function o(e){return e&&e.__esModule?e:{default:e}}t.createSensor=function(e){var t=void 0,i=[],s=function(){"static"===getComputedStyle(e).position&&(e.style.position="relative");var t=document.createElement("object");return t.onload=function(){t.contentDocument.defaultView.addEventListener("resize",o),o()},t.setAttribute("style",n.SensorStyle),t.setAttribute("class",n.SensorClassName),t.setAttribute("tabindex",n.SensorTabIndex),t.type="text/html",e.appendChild(t),t.data="about:blank",t},o=(0,r.default)(function(){i.forEach(function(t){t(e)})}),a=function(e){t||(t=s()),-1===i.indexOf(e)&&i.push(e)},l=function(){t&&t.parentNode&&(t.contentDocument&&t.contentDocument.defaultView.removeEventListener("resize",o),t.parentNode.removeChild(t),t=void 0,i=[])},u=function(e){var s=i.indexOf(e);-1!==s&&i.splice(s,1),0===i.length&&t&&l()};return{element:e,bind:a,destroy:l,unbind:u}}},5109:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)},t.cancelAnimationFrame=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame||window.clearTimeout,t.range=function(e){return new Array(e).fill(0).map(function(e,t){return t})},t.canvasStyle=function(e){return"display:block;position:absolute;top:0;left:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:"+e.zIndex+";opacity:"+e.opacity}},"685e":function(e,t,i){},"6ab7":function(e,t,i){},"721a":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=1;t.default=function(){return""+s++},e.exports=t["default"]},"89fb":function(e,t,i){"use strict";var s=i("685e"),r=i.n(s);r.a},"9afa":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("eac7"),r=n(s);function n(e){return e&&e.__esModule?e:{default:e}}t.default=r.default,e.exports=t["default"]},"9b2c":function(e,t,i){},b708:function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"dragVerify",staticClass:"drag_verify",style:e.dragVerifyStyle,on:{mousemove:e.dragMoving,mouseup:e.dragFinish,mouseleave:e.dragFinish,touchmove:e.dragMoving,touchend:e.dragFinish}},[i("div",{ref:"progressBar",staticClass:"dv_progress_bar",class:{goFirst2:e.isOk},style:e.progressBarStyle}),i("div",{ref:"message",staticClass:"dv_text",style:e.textStyle},[e.$slots.textBefore?e._t("textBefore"):e._e(),e._v("\n    "+e._s(e.message)+"\n    "),e.$slots.textAfter?e._t("textAfter"):e._e()],2),i("div",{ref:"handler",staticClass:"dv_handler dv_handler_bg",class:{goFirst:e.isOk},style:e.handlerStyle,on:{mousedown:e.dragStart,touchstart:e.dragStart}},[i("i",{class:e.handlerIcon})])])},r=[],n=(i("a481"),i("c5f6"),{name:"dragVerify",props:{isPassing:{type:Boolean,default:!1},width:{type:Number,default:250},height:{type:Number,default:40},text:{type:String,default:"swiping to the right side"},successText:{type:String,default:"success"},background:{type:String,default:"#eee"},progressBarBg:{type:String,default:"#76c61d"},completedBg:{type:String,default:"#76c61d"},circle:{type:Boolean,default:!1},radius:{type:String,default:"4px"},handlerIcon:{type:String},successIcon:{type:String},handlerBg:{type:String,default:"#fff"},textSize:{type:String,default:"14px"},textColor:{type:String,default:"#333"}},mounted:function(){var e=this.$refs.dragVerify;e.style.setProperty("--textColor",this.textColor),e.style.setProperty("--width",Math.floor(this.width/2)+"px"),e.style.setProperty("--pwidth",-Math.floor(this.width/2)+"px")},computed:{handlerStyle:function(){return{left:"0px",width:this.height+"px",height:this.height+"px",background:this.handlerBg}},message:function(){return this.isPassing?this.successText:this.text},dragVerifyStyle:function(){return{width:this.width+"px",height:this.height+"px",lineHeight:this.height+"px",background:this.background,borderRadius:this.circle?this.height/2+"px":this.radius}},progressBarStyle:function(){return{background:this.progressBarBg,height:this.height+"px",borderRadius:this.circle?this.height/2+"px 0 0 "+this.height/2+"px":this.radius}},textStyle:function(){return{height:this.height+"px",width:this.width+"px",fontSize:this.textSize}}},data:function(){return{isMoving:!1,x:0,isOk:!1}},methods:{dragStart:function(e){if(!this.isPassing){this.isMoving=!0;var t=this.$refs.handler;this.x=(e.pageX||e.touches[0].pageX)-parseInt(t.style.left.replace("px",""),10)}this.$emit("handlerMove")},dragMoving:function(e){if(this.isMoving&&!this.isPassing){var t=(e.pageX||e.touches[0].pageX)-this.x,i=this.$refs.handler;t>0&&t<=this.width-this.height?(i.style.left=t+"px",this.$refs.progressBar.style.width=t+this.height/2+"px"):t>this.width-this.height&&(i.style.left=this.width-this.height+"px",this.$refs.progressBar.style.width=this.width-this.height/2+"px",this.passVerify())}},dragFinish:function(e){if(this.isMoving&&!this.isPassing){var t=(e.pageX||e.changedTouches[0].pageX)-this.x;if(t<this.width-this.height){this.isOk=!0;var i=this;setTimeout(function(){i.$refs.handler.style.left="0",i.$refs.progressBar.style.width="0",i.isOk=!1},500)}else{var s=this.$refs.handler;s.style.left=this.width-this.height+"px",this.$refs.progressBar.style.width=this.width-this.height/2+"px",this.passVerify()}this.isMoving=!1}},passVerify:function(){this.$emit("update:isPassing",!0),this.isMoving=!1;var e=this.$refs.handler;e.children[0].className=this.successIcon,this.$refs.progressBar.style.background=this.completedBg,this.$refs.message.style["-webkit-text-fill-color"]="unset",this.$refs.message.style.animation="slidetounlock2 3s infinite",this.$refs.message.style.color="#fff",this.$emit("passcallback")},reset:function(){var e=this.$options.data();for(var t in e)e.hasOwnProperty(t)&&this.$set(this,t,e[t]);var i=this.$refs.handler,s=this.$refs.message;i.style.left="0",this.$refs.progressBar.style.width="0",i.children[0].className=this.handlerIcon,s.style["-webkit-text-fill-color"]="transparent",s.style.animation="slidetounlock 3s infinite",s.style.color=this.background}}}),o=n,a=(i("89fb"),i("0007"),i("2877")),l=Object(a["a"])(o,s,r,!1,null,"b7a74afe",null);t["a"]=l.exports},bb7a:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ver=t.clear=t.bind=void 0;var s=i("3f84");t.bind=function(e,t){var i=(0,s.getSensor)(e);return i.bind(t),function(){i.unbind(t)}},t.clear=function(e){var t=(0,s.getSensor)(e);(0,s.removeSensor)(t)},t.ver="0.2.4"},d089:function(e,t,i){"use strict";var s=i("9b2c"),r=i.n(s);r.a},db86:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SizeSensorId="size-sensor-id",t.SensorStyle="display:block;position:absolute;top:0;left:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;opacity:0",t.SensorClassName="size-sensor-object",t.SensorTabIndex="-1"},eac7:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e},r=function(){function e(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,i,s){return i&&e(t.prototype,i),s&&e(t,s),t}}(),n=i("bb7a"),o=i("5109");function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var l=function(){function e(t,i){var r=this;a(this,e),this.randomPoints=function(){return(0,o.range)(r.c.count).map(function(){return{x:Math.random()*r.canvas.width,y:Math.random()*r.canvas.height,xa:2*Math.random()-1,ya:2*Math.random()-1,max:6e3}})},this.el=t,this.c=s({zIndex:-1,opacity:.5,color:"0,0,0",pointColor:"0,0,0",count:99},i),this.canvas=this.newCanvas(),this.context=this.canvas.getContext("2d"),this.points=this.randomPoints(),this.current={x:null,y:null,max:2e4},this.all=this.points.concat([this.current]),this.bindEvent(),this.requestFrame(this.drawCanvas)}return r(e,[{key:"bindEvent",value:function(){var e=this;(0,n.bind)(this.el,function(){e.canvas.width=e.el.clientWidth,e.canvas.height=e.el.clientHeight}),this.onmousemove=window.onmousemove,window.onmousemove=function(t){e.current.x=t.clientX-e.el.offsetLeft+document.scrollingElement.scrollLeft,e.current.y=t.clientY-e.el.offsetTop+document.scrollingElement.scrollTop,e.onmousemove&&e.onmousemove(t)},this.onmouseout=window.onmouseout,window.onmouseout=function(){e.current.x=null,e.current.y=null,e.onmouseout&&e.onmouseout()}}},{key:"newCanvas",value:function(){"static"===getComputedStyle(this.el).position&&(this.el.style.position="relative");var e=document.createElement("canvas");return e.style.cssText=(0,o.canvasStyle)(this.c),e.width=this.el.clientWidth,e.height=this.el.clientHeight,this.el.appendChild(e),e}},{key:"requestFrame",value:function(e){var t=this;this.tid=(0,o.requestAnimationFrame)(function(){return e.call(t)})}},{key:"drawCanvas",value:function(){var e=this,t=this.context,i=this.canvas.width,s=this.canvas.height,r=this.current,n=this.points,o=this.all;t.clearRect(0,0,i,s);var a=void 0,l=void 0,u=void 0,c=void 0,d=void 0,h=void 0;n.forEach(function(n,f){for(n.x+=n.xa,n.y+=n.ya,n.xa*=n.x>i||n.x<0?-1:1,n.ya*=n.y>s||n.y<0?-1:1,t.fillStyle="rgba("+e.c.pointColor+")",t.fillRect(n.x-.5,n.y-.5,1,1),l=f+1;l<o.length;l++)a=o[l],null!==a.x&&null!==a.y&&(c=n.x-a.x,d=n.y-a.y,h=c*c+d*d,h<a.max&&(a===r&&h>=a.max/2&&(n.x-=.03*c,n.y-=.03*d),u=(a.max-h)/a.max,t.beginPath(),t.lineWidth=u/2,t.strokeStyle="rgba("+e.c.color+","+(u+.2)+")",t.moveTo(n.x,n.y),t.lineTo(a.x,a.y),t.stroke()))}),this.requestFrame(this.drawCanvas)}},{key:"destroy",value:function(){(0,n.clear)(this.el),window.onmousemove=this.onmousemove,window.onmouseout=this.onmouseout,(0,o.cancelAnimationFrame)(this.tid),this.canvas.parentNode.removeChild(this.canvas)}}]),e}();l.version="2.0.4",t.default=l,e.exports=t["default"]}}]);